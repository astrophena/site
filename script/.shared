# vim: ft=sh

info() {
	local no_color='\033[0m'
	local yellow_color='\033[0;33m'
	echo -e "${yellow_color}"$@"${no_color}"
}

go_install() {
	command -v "$1" &>/dev/null || {
		info "==> Installing $1..."
		go install -ldflags="-s -w -buildid=" -trimpath "$2@latest"
	}
}

silent_run() {
	# Show a command output only if it failed.
	set +e
	out="$("$@" 2>&1)"
	ec="$?"
	[[ "$ec" != "0" ]] && echo >&2 "$out" && exit "$ec"
	set -e
}
